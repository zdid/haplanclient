{
  "version": 3,
  "sources": ["../src/ui/draganddropconstrained.ts", "../src/models/objects/HAObject.ts", "../src/models/objects/BaseEntity.ts", "../src/models/objects/EnhancedLightObject.ts", "../src/models/objects/MinimalLightObject.ts", "../src/models/objects/EnhancedTemperatureSensor.ts", "../src/models/objects/windows/LightWindow.ts", "../src/models/objects/windows/SwitchWindow.ts", "../src/models/objects/windows/ThermostatWindow.ts", "../src/models/objects/windows/GenericWindow.ts", "../src/models/objects/UnifiedObjectFactory.ts", "../src/models/objects/windows/ContextWindowManager.ts", "../src/demo-entry.ts"],
  "sourcesContent": ["/**\n * Classe pour g\u00E9rer le drag and drop d'un \u00E9l\u00E9ment avec des contraintes de mouvement.\n * L'\u00E9l\u00E9ment ne peut pas sortir d'une zone d\u00E9finie (par d\u00E9faut, son conteneur parent).\n */\nexport class DragAndDropConstrained {\n  private element: HTMLElement;\n  private container: HTMLElement;\n  private isDragging: boolean = false;\n  private offsetX: number = 0;\n  private offsetY: number = 0;\n  private onDragEnd?:  (finalPosition: {x: number, y: number}) => void;\n  private constraintMode: 'full' | 'center';\n\n  /**\n   * @param elementSelector - S\u00E9lecteur CSS de l'\u00E9l\u00E9ment \u00E0 rendre \"draggable\".\n   *                         Le conteneur parent sera utilis\u00E9 automatiquement comme zone de mouvement.\n   * @param onDragEnd - Callback appel\u00E9 \u00E0 la fin du drag avec la position finale\n   * @param constraintMode - Mode de contrainte: 'full' (objet entier dans la zone) ou 'center' (centre dans la zone)\n   */\n  constructor(\n    elementSelector: string,\n    onDragEnd?: (finalPosition: {x: number, y: number}) => void,\n    constraintMode: 'full' | 'center' = 'center'\n  ) {\n    this.element = document.querySelector<HTMLElement>(elementSelector)!;\n    if (!this.element) {\n      throw new Error(`\u00C9l\u00E9ment introuvable avec le s\u00E9lecteur : ${elementSelector}`);\n    }\n\n    // Utilise toujours le parent direct comme conteneur\n    this.container = this.element.parentElement!;\n\n    if (!this.container) {\n      throw new Error(\"Conteneur introuvable.\");\n    }\n\n    // Stocker le callback de fin de drag\n    this.onDragEnd = onDragEnd;\n    this.constraintMode = constraintMode;\n\n    console.log(`[TRACE] DragAndDropConstrained initialis\u00E9 avec mode de contrainte: ${constraintMode}`);\n\n    // Initialise les \u00E9v\u00E9nements\n    this.init();\n  }\n\n  /**\n   * Initialise les \u00E9couteurs d'\u00E9v\u00E9nements pour le drag and drop.\n   */\n  private init(): void {\n    console.log(`[TRACE] DragAndDropConstrained.init() appel\u00E9 pour l'\u00E9l\u00E9ment:`, this.element);\n    \n    this.element.style.position = \"absolute\";\n    this.element.style.cursor = \"move\";\n    this.element.style.userSelect = \"none\";\n\n    console.log(`[TRACE] Ajout des \u00E9couteurs d'\u00E9v\u00E9nements`);\n    this.element.addEventListener(\"mousedown\", this.startDrag);\n    document.addEventListener(\"mousemove\", this.drag);\n    document.addEventListener(\"mouseup\", this.endDrag);\n    console.log(`[TRACE] \u00C9couteurs d'\u00E9v\u00E9nements ajout\u00E9s avec succ\u00E8s`);\n  }\n\n  /**\n   * D\u00E9but du glisser : calcule les offsets et active le mode \"dragging\".\n   * @param event - \u00C9v\u00E9nement de souris.\n   */\n  private startDrag = (event: MouseEvent): void => {\n    console.log(`[TRACE] DragAndDropConstrained.startDrag() appel\u00E9`, event);\n    event.preventDefault();\n    this.isDragging = true;\n\n    const rect = this.element.getBoundingClientRect();\n    \n    // Calculer les offsets en fonction du mode de contrainte\n    if (this.constraintMode === 'full') {\n      // Mode 'full': offsets calcul\u00E9s par rapport au coin sup\u00E9rieur gauche\n      // Cela permet de maintenir l'objet enti\u00E8rement dans la zone\n      this.offsetX = event.clientX - rect.left;\n      this.offsetY = event.clientY - rect.top;\n      console.log(`[TRACE] Offset calcul\u00E9 en mode 'full' (coin sup\u00E9rieur gauche):`, {offsetX: this.offsetX, offsetY: this.offsetY});\n    } else {\n      // Mode 'center': offsets calcul\u00E9s par rapport au centre\n      // pour correspondre au transform: translate(-50%, -50%)\n      const centerX = rect.left + rect.width / 2;\n      const centerY = rect.top + rect.height / 2;\n      this.offsetX = event.clientX - centerX;\n      this.offsetY = event.clientY - centerY;\n      console.log(`[TRACE] Offset calcul\u00E9 en mode 'center' (centre):`, {offsetX: this.offsetX, offsetY: this.offsetY});\n    }\n  };\n\n  /**\n   * Pendant le glisser : d\u00E9place l'\u00E9l\u00E9ment en respectant les contraintes du conteneur.\n   * @param event - \u00C9v\u00E9nement de souris.\n   */\n  private drag = (event: MouseEvent): void => {\n    if (!this.isDragging) {\n      return;\n    }\n    \n    console.log(`[TRACE] DragAndDropConstrained.drag() appel\u00E9`, event);\n    \n    // Calcule les nouvelles coordonn\u00E9es de l'\u00E9l\u00E9ment\n    let newX = event.clientX - this.offsetX;\n    let newY = event.clientY - this.offsetY;\n\n    // R\u00E9cup\u00E8re les dimensions du conteneur et de l'\u00E9l\u00E9ment\n    const containerRect = this.container.getBoundingClientRect();\n    const elementRect = this.element.getBoundingClientRect();\n\n    // Appliquer les contraintes selon le mode s\u00E9lectionn\u00E9\n    if (this.constraintMode === 'full') {\n      // Mode 'full': l'objet entier doit rester dans la zone\n      // Contraintes pour ne pas sortir du conteneur (objet entier dans la zone)\n      newX = Math.max(containerRect.left, Math.min(newX, containerRect.right - elementRect.width));\n      newY = Math.max(containerRect.top, Math.min(newY, containerRect.bottom - elementRect.height));\n      console.log(`[TRACE] Application des contraintes en mode 'full' (objet entier dans la zone)`);\n    } else {\n      // Mode 'center': seul le centre de l'objet doit rester dans la zone\n      // Contraintes pour que le centre de l'\u00E9l\u00E9ment reste dans le conteneur\n      const centerX = event.clientX - this.offsetX + elementRect.width / 2;\n      const centerY = event.clientY - this.offsetY + elementRect.height / 2;\n      \n      const constrainedCenterX = Math.max(\n        containerRect.left + elementRect.width / 2,\n        Math.min(centerX, containerRect.right - elementRect.width / 2)\n      );\n      const constrainedCenterY = Math.max(\n        containerRect.top + elementRect.height / 2,\n        Math.min(centerY, containerRect.bottom - elementRect.height / 2)\n      );\n      \n      newX = constrainedCenterX - elementRect.width / 2;\n      newY = constrainedCenterY - elementRect.height / 2;\n      console.log(`[TRACE] Application des contraintes en mode 'center' (centre dans la zone)`);\n    }\n\n    // Applique les nouvelles coordonn\u00E9es\n    this.element.style.left = `${newX - containerRect.left}px`;\n    this.element.style.top = `${newY - containerRect.top}px`;\n    \n    console.log(`[TRACE] \u00C9l\u00E9ment d\u00E9plac\u00E9 \u00E0:`, {left: this.element.style.left, top: this.element.style.top});\n  };\n\n  /**\n   * Fin du glisser : d\u00E9sactive le mode \"dragging\".\n   */\n  private endDrag = (): void => {\n    console.log(`[TRACE] DragAndDropConstrained.endDrag() appel\u00E9`);\n    this.isDragging = false;\n    console.log(`[TRACE] isDragging r\u00E9initialis\u00E9 \u00E0 false`);\n    \n    // Appeler le callback de fin de drag si d\u00E9fini avec les coordonn\u00E9es finales\n    if (this.onDragEnd) {\n      const elementRect = this.element.getBoundingClientRect();\n      const containerRect = this.container.getBoundingClientRect();\n      \n      let finalPosition;\n      if (this.constraintMode === 'full') {\n        // Mode 'full': retourner les coordonn\u00E9es du coin sup\u00E9rieur gauche par rapport au conteneur\n        finalPosition = {\n          x: parseFloat(this.element.style.left) || 0,\n          y: parseFloat(this.element.style.top) || 0\n        };\n        console.log(`[TRACE] Position finale en mode 'full' (coin sup\u00E9rieur gauche):`, finalPosition);\n      } else {\n        // Mode 'center': retourner les coordonn\u00E9es du centre par rapport au conteneur\n        finalPosition = {\n          x: elementRect.left - containerRect.left + elementRect.width / 2,\n          y: elementRect.top - containerRect.top + elementRect.height / 2\n        };\n        console.log(`[TRACE] Position finale en mode 'center' (centre):`, finalPosition);\n      }\n      \n      this.onDragEnd(finalPosition);\n    }\n  };\n\n  /**\n   * Nettoie les \u00E9couteurs d'\u00E9v\u00E9nements (\u00E0 appeler si la classe est d\u00E9truite).\n   */\n  public destroy(): void {\n    this.element.removeEventListener(\"mousedown\", this.startDrag);\n    document.removeEventListener(\"mousemove\", this.drag);\n    document.removeEventListener(\"mouseup\", this.endDrag);\n  }\n}\n", "// Classe de base pour tous les objets Home Assistant\nimport { DataService } from '../../services/DataService';\nimport { PositionManager } from '../../models/PositionManager';\nimport { DragAndDropConstrained } from '../../ui/draganddropconstrained';\n\nexport abstract class HAObject {\n  protected entity_id: string;\n  protected position: {x: number, y: number};\n  protected element: HTMLElement | null = null;\n  protected commandService: DataService | null = null;\n  protected positionManager: PositionManager | null = null;\n  private dragHandler: DragAndDropConstrained | null = null;\n\n  constructor(entity_id: string, position: {x: number, y: number}, commandService?: DataService) {\n    this.entity_id = entity_id;\n    this.position = position;\n    this.commandService = commandService || null;\n  }\n\n  abstract render(): HTMLElement;\n\n  // M\u00E9thode pour s'assurer que l'\u00E9l\u00E9ment a un ID\n  ensureElementHasId(element: HTMLElement): HTMLElement {\n    if (!element.id) {\n      element.id = `ha-object-${this.entity_id.replace(/\\./g, '-')}`;\n    }\n    return element;\n  }\n  abstract updateState(state: any): void;\n  abstract handleAction(action: string): void;\n\n  getEntity_id(): string {\n    return this.entity_id;\n  }\n\n  getPosition(): {x: number, y: number} {\n    return this.position;\n  }\n\n  setPosition(x: number, y: number): void {\n    this.position = {x, y};\n  }\n\n  setDataService(commandService: DataService): void {\n    this.commandService = commandService;\n  }\n\n  setPositionManager(positionManager: PositionManager): void {\n    this.positionManager = positionManager;\n  }\n\n  setElement(element: HTMLElement): void {\n    this.element = element;\n  }\n\n  async enableDrag(): Promise<void> {\n    if (this.element && !this.dragHandler) {\n      // Cr\u00E9er un ID unique pour l'\u00E9l\u00E9ment si ce n'est pas d\u00E9j\u00E0 fait\n      this.ensureElementHasId(this.element);\n      \n      try {\n        // Attendre que le conteneur de drag-and-drop soit disponible\n        await this.getDragContainer();\n        this.initializeDragHandler();\n      } catch (error) {\n        console.error(`Failed to enable drag for object ${this.entity_id}:`, error);\n        throw error;\n      }\n    }\n  }\n  \n  // M\u00E9thode asynchrone pour obtenir le conteneur de drag-and-drop\n  // Attend jusqu'\u00E0 2 secondes maximum avant d'\u00E9chouer\n  private getDragContainer(): Promise<HTMLElement> {\n    return new Promise((resolve, reject) => {\n      const startTime = Date.now();\n      const maxWaitTime = 2000; // 2 secondes\n      \n      const checkContainer = () => {\n        const container = document.getElementById('floorplan-drag-container');\n        \n        if (container) {\n          resolve(container);\n        } else if (Date.now() - startTime >= maxWaitTime) {\n          reject(new Error('Drag container (floorplan-drag-container) not found after 2 seconds'));\n        } else {\n          // R\u00E9essayer apr\u00E8s un court d\u00E9lai\n          setTimeout(checkContainer, 100);\n        }\n      };\n      \n      // Premier essai imm\u00E9diat\n      checkContainer();\n    });\n  }\n\n  private initializeDragHandler(): void {\n    console.log(`[TRACE] Initialisation du drag handler pour ${this.entity_id}`);\n    console.log(`[TRACE] \u00C9l\u00E9ment ID: ${this.element!.id}, \u00C9l\u00E9ment:`, this.element);\n    \n    // D\u00E9sactiver le drag natif pour \u00E9viter les conflits\n    this.element!.setAttribute('draggable', 'false');\n    \n    try {\n      // Cr\u00E9er un callback pour la fin du drag\n      const onDragEndCallback = async (finalPosition: {x: number, y: number}) => {\n        console.log(`[TRACE] Callback de fin de drag appel\u00E9 pour ${this.entity_id} avec position:`, finalPosition);\n        \n        // V\u00E9rifier si l'objet a \u00E9t\u00E9 dropp\u00E9 sur la poubelle\n        const trashIcon = document.querySelector('.trash-icon') as HTMLElement;\n        if (trashIcon && this.isMouseOverTrashIcon(trashIcon, finalPosition)) {\n          console.log(`[TRACE] Objet ${this.entity_id} dropp\u00E9 sur la poubelle, suppression...`);\n          this.removeObjectFromFloorPlan();\n          return; // Ne pas mettre \u00E0 jour la position si l'objet est supprim\u00E9\n        }\n        \n        // Si pas sur la poubelle, mettre \u00E0 jour la position normale\n        if (this.positionManager && this.element) {\n          try {\n            const rect = this.element.getBoundingClientRect();\n            const containerRect = (await this.getDragContainer()).getBoundingClientRect();\n            \n            if (containerRect) {\n              // Les coordonn\u00E9es finales sont d\u00E9j\u00E0 en pixels par rapport au conteneur\n              // Convertir en pourcentages (0-1) par rapport au dragContainer\n              const x = finalPosition.x / containerRect.width;\n              const y = finalPosition.y / containerRect.height;\n              \n              console.log(`[TRACE] Fin de d\u00E9placement d\u00E9tect\u00E9e pour ${this.entity_id}:`, {\n                elementRect: {left: rect.left, top: rect.top, width: rect.width, height: rect.height},\n                containerRect: {left: containerRect.left, top: containerRect.top, width: containerRect.width, height: containerRect.height},\n                finalPosition: {x, y}\n              });\n              \n              this.positionManager.updatePosition(this.entity_id, x, y);\n              this.position = {x, y};\n              \n              console.log(`[TRACE] Position finale sauvegard\u00E9e pour ${this.entity_id}:`, {x, y});\n            }\n          } catch (error) {\n            console.error(`[TRACE] Erreur dans le callback de fin de drag pour ${this.entity_id}:`, error);\n          }\n        }\n      };\n      \n      // Utiliser le parent de l'\u00E9l\u00E9ment comme conteneur et passer le callback\n      // Pour les objets HA, nous utilisons le mode 'center' car ils sont centr\u00E9s avec transform: translate(-50%, -50%)\n      console.log(`[TRACE] Cr\u00E9ation de DragAndDropConstrained pour #${this.element!.id} avec callback et mode center`);\n      this.dragHandler = new DragAndDropConstrained(\n        `#${this.element!.id}`,\n        onDragEndCallback,\n        'center' // Mode de contrainte pour les objets HA\n      );\n      console.log(`[TRACE] DragAndDropConstrained cr\u00E9\u00E9 avec succ\u00E8s avec callback et mode center`);\n      \n      // Ajouter une classe pour indiquer que l'objet est draggable\n      console.log(\"element:\", this.element)\n      this.element!.classList.add('ha-object-draggable');\n      console.log(`Drag successfully initialized for object ${this.entity_id}`);\n     \n    } catch (error) {\n      console.error(`Failed to initialize drag for object ${this.entity_id}:`, error);\n    }\n  }\n\n  /**\n   * V\u00E9rifie si une position est au-dessus de la poubelle\n   * @param trashIcon L'ic\u00F4ne de la poubelle\n   * @param position La position \u00E0 v\u00E9rifier (en pixels par rapport au conteneur)\n   * @returns True si la position est au-dessus de la poubelle\n   */\n  private isMouseOverTrashIcon(trashIcon: HTMLElement, position: {x: number, y: number}): boolean {\n    const trashRect = trashIcon.getBoundingClientRect();\n    const containerRect = this.getDragContainer()?.getBoundingClientRect();\n    \n    if (!containerRect) {\n      return false;\n    }\n    \n    // Convertir la position relative en position absolue\n    const absoluteX = containerRect.left + position.x;\n    const absoluteY = containerRect.top + position.y;\n    \n    return (\n      absoluteX >= trashRect.left &&\n      absoluteX <= trashRect.right &&\n      absoluteY >= trashRect.top &&\n      absoluteY <= trashRect.bottom\n    );\n  }\n  \n  /**\n   * Supprime l'objet du floor plan\n   */\n  private removeObjectFromFloorPlan(): void {\n    console.log(`[TRACE] Suppression de l'objet ${this.entity_id} du floor plan`);\n    \n    // Supprimer l'\u00E9l\u00E9ment du DOM\n    if (this.element && this.element.parentNode) {\n      this.element.parentNode.removeChild(this.element);\n    }\n    \n    // Notifier le PositionManager pour supprimer la position\n    if (this.positionManager) {\n      this.positionManager.removePosition(this.entity_id);\n    }\n    \n    // D\u00E9sactiver le drag si actif\n    this.disableDrag();\n  }\n  \n  disableDrag(): void {\n    if (this.dragHandler) {\n      this.dragHandler.destroy();\n      this.dragHandler = null;\n    }\n    \n    if (this.element) {\n      this.element.classList.remove('ha-object-draggable');\n    }\n  }\n\n  protected sendCommand(service: string, serviceData?: any): void {\n    if (this.commandService && this.commandService.isConnected()) {\n      this.commandService.sendCommand(this.entity_id, service, serviceData);\n    } else {\n      console.warn(`Cannot send command: ${service} - DataService not available or not connected`);\n    }\n  }\n\n  destroy(): void {\n    this.disableDrag();\n    if (this.element) {\n      this.element.remove();\n      this.element = null;\n    }\n  }\n}", "import { HAObject } from './HAObject';\nimport { DataService } from '../../services/DataService';\n\nexport abstract class BaseEntity extends HAObject {\n  protected dimensions: { width: number; height: number };\n  protected displayValues: Map<string, string | number> = new Map();\n  protected visualStyle: 'icon' | 'card' | 'gauge' | 'slider' | 'minimal' = 'icon';\n  private contextWindow: ContextWindow | null = null;\n  protected colorScheme: {\n    primary: string;\n    secondary: string;\n    background: string;\n    text: string;\n  };\n\n  constructor(\n    entity_id: string,\n    position: { x: number; y: number },\n    dimensions: { width: number; height: number } = { width: 60, height: 60 },\n    commandService?: DataService\n  ) {\n    super(entity_id, position, commandService);\n    this.dimensions = dimensions;\n    \n    // Sch\u00E9ma de couleurs par d\u00E9faut\n    this.colorScheme = {\n      primary: '#4285F4',\n      secondary: '#34A853',\n      background: '#FFFFFF',\n      text: '#333333'\n    };\n  }\n\n  // M\u00E9thode pour d\u00E9finir les valeurs \u00E0 afficher\n  setDisplayValue(key: string, value: string | number): void {\n    this.displayValues.set(key, value);\n    this.updateDisplay();\n  }\n\n  // M\u00E9thode pour obtenir une valeur \u00E0 afficher\n  getDisplayValue(key: string): string | number | undefined {\n    return this.displayValues.get(key);\n  }\n\n  // M\u00E9thode pour d\u00E9finir le style visuel\n  setVisualStyle(style: 'icon' | 'card' | 'gauge' | 'slider' | 'minimal'): void {\n    this.visualStyle = style;\n    if (this.element) {\n      this.element.className = this.element.className.replace(\n        /\\b(icon|card|gauge|slider|minimal)-style\\b/g,\n        ''\n      );\n      this.element.classList.add(`${style}-style`);\n    }\n  }\n\n  // M\u00E9thode pour d\u00E9finir les dimensions\n  setDimensions(width: number, height: number): void {\n    this.dimensions = { width, height };\n    if (this.element) {\n      this.element.style.width = `${width}px`;\n      this.element.style.height = `${height}px`;\n    }\n  }\n\n  // M\u00E9thode pour obtenir les dimensions\n  getDimensions(): { width: number; height: number } {\n    return this.dimensions;\n  }\n\n  // M\u00E9thode pour d\u00E9finir le sch\u00E9ma de couleurs\n  setColorScheme(scheme: {\n    primary?: string;\n    secondary?: string;\n    background?: string;\n    text?: string;\n  }): void {\n    this.colorScheme = { ...this.colorScheme, ...scheme };\n    this.updateDisplay();\n  }\n\n  // M\u00E9thode abstraite pour le rendu sp\u00E9cifique\n  abstract renderEntity(): HTMLElement;\n\n  // Impl\u00E9mentation de la m\u00E9thode render de HAObject\n  render(): HTMLElement {\n    const container = this.renderEntity();\n    \n    // Appliquer les dimensions\n    container.style.width = `${this.dimensions.width}px`;\n    container.style.height = `${this.dimensions.height}px`;\n    \n    // Appliquer le style visuel\n    container.classList.add(`${this.visualStyle}-style`);\n    \n    // Appliquer les couleurs\n    this.applyColorScheme(container);\n    \n    // Appliquer la classe de base\n    container.classList.add('base-entity', 'ha-object');\n    \n    this.element = container;\n    return container;\n  }\n\n  // Appliquer le sch\u00E9ma de couleurs \u00E0 un \u00E9l\u00E9ment\n  protected applyColorScheme(element: HTMLElement): void {\n    element.style.setProperty('--entity-primary-color', this.colorScheme.primary);\n    element.style.setProperty('--entity-secondary-color', this.colorScheme.secondary);\n    element.style.setProperty('--entity-background-color', this.colorScheme.background);\n    element.style.setProperty('--entity-text-color', this.colorScheme.text);\n  }\n\n  // M\u00E9thode pour cr\u00E9er un \u00E9l\u00E9ment avec style de base\n  protected createStyledElement(\n    tag: string,\n    className: string,\n    content: string = ''\n  ): HTMLElement {\n    const element = document.createElement(tag);\n    element.className = className;\n    element.innerHTML = content;\n    this.applyColorScheme(element);\n    return element;\n  }\n\n  // M\u00E9thode pour cr\u00E9er un badge de valeur\n  protected createValueBadge(\n    label: string,\n    value: string | number,\n    unit: string = ''\n  ): HTMLElement {\n    const badge = this.createStyledElement('div', 'value-badge');\n    badge.innerHTML = `\n      <span class=\"badge-label\">${label}:</span>\n      <span class=\"badge-value\">${value}</span>\n      ${unit ? `<span class=\"badge-unit\">${unit}</span>` : ''}\n    `;\n    return badge;\n  }\n\n  // M\u00E9thode pour cr\u00E9er un indicateur d'\u00E9tat\n  protected createStatusIndicator(status: 'on' | 'off' | 'warning' | 'error'): HTMLElement {\n    const indicator = this.createStyledElement('div', 'status-indicator');\n    \n    let color, icon;\n    switch (status) {\n      case 'on':\n        color = 'var(--entity-secondary-color)';\n        icon = 'fa-check-circle';\n        break;\n      case 'off':\n        color = '#999999';\n        icon = 'fa-circle';\n        break;\n      case 'warning':\n        color = '#FFC107';\n        icon = 'fa-exclamation-triangle';\n        break;\n      case 'error':\n        color = '#F44336';\n        icon = 'fa-exclamation-circle';\n        break;\n    }\n    \n    indicator.innerHTML = `<i class=\"fas ${icon}\" style=\"color: ${color}\"></i>`;\n    return indicator;\n  }\n\n  // M\u00E9thode pour cr\u00E9er un conteneur de valeurs\n  protected createValuesContainer(): HTMLElement {\n    const container = this.createStyledElement('div', 'values-container');\n    \n    this.displayValues.forEach((value, key) => {\n      const badge = this.createValueBadge(key, value);\n      container.appendChild(badge);\n    });\n    \n    return container;\n  }\n\n  // M\u00E9thode pour cr\u00E9er un titre\n  protected createTitle(title: string): HTMLElement {\n    const titleElement = this.createStyledElement('div', 'entity-title');\n    titleElement.textContent = title;\n    return titleElement;\n  }\n\n  // M\u00E9thode pour cr\u00E9er une ic\u00F4ne\n  protected createIcon(iconClass: string, size: 'small' | 'medium' | 'large' = 'medium'): HTMLElement {\n    const icon = this.createStyledElement('div', `entity-icon ${size}`);\n    icon.innerHTML = `<i class=\"fas ${iconClass}\"></i>`;\n    return icon;\n  }\n\n  // M\u00E9thode pour cr\u00E9er un contr\u00F4leur (boutons, sliders, etc.)\n  protected createController(type: 'button' | 'slider' | 'switch'): HTMLElement {\n    switch (type) {\n      case 'button':\n        return this.createStyledElement('button', 'entity-button', '<i class=\"fas fa-power-off\"></i>');\n      case 'slider':\n        const slider = this.createStyledElement('input', 'entity-slider');\n        slider.setAttribute('type', 'range');\n        slider.setAttribute('min', '0');\n        slider.setAttribute('max', '100');\n        return slider;\n      case 'switch':\n        return this.createStyledElement('div', 'entity-switch');\n    }\n  }\n\n  // M\u00E9thode pour mettre \u00E0 jour l'affichage (\u00E0 impl\u00E9menter par les classes filles)\n  abstract updateDisplay(): void;\n\n  // M\u00E9thode pour g\u00E9rer les actions (\u00E0 impl\u00E9menter par les classes filles)\n  abstract handleAction(action: string): void;\n\n  // M\u00E9thode pour d\u00E9finir la fen\u00EAtre contextuelle\n  setContextWindow(window: ContextWindow): void {\n    this.contextWindow = window;\n    this.setupClickHandler();\n  }\n\n  // M\u00E9thode pour obtenir la fen\u00EAtre contextuelle\n  getContextWindow(): ContextWindow | null {\n    return this.contextWindow;\n  }\n\n  // M\u00E9thode pour configurer le gestionnaire de clics\n  protected setupClickHandler(): void {\n    if (this.element) {\n      this.element.style.cursor = 'pointer';\n      this.element.addEventListener('click', (e) => {\n        e.stopPropagation();\n        this.onClick();\n      });\n    }\n  }\n\n  // M\u00E9thode appel\u00E9e lors du clic\n  protected onClick(): void {\n    if (this.contextWindow) {\n      const windowManager = ContextWindowManager.getInstance();\n      windowManager.showWindow(this, this.contextWindow);\n    }\n  }\n\n  // M\u00E9thode pour d\u00E9truire l'entit\u00E9\n  destroy(): void {\n    super.destroy();\n    this.displayValues.clear();\n  }\n}", "import { BaseEntity } from './BaseEntity';\nimport { DataService } from '../../services/DataService';\n\nexport class EnhancedLightObject extends BaseEntity {\n  protected isOn: boolean = false;\n  protected brightness: number = 0;\n\n  constructor(\n    entity_id: string,\n    position: { x: number; y: number },\n    dimensions: { width: number; height: number } = { width: 80, height: 80 },\n    commandService?: DataService\n  ) {\n    super(entity_id, position, dimensions, commandService);\n    this.setVisualStyle('card');\n    this.setColorScheme({\n      primary: '#FFD700', // Or\n      secondary: '#FFC107', // Ambre\n      background: '#FFFFFF',\n      text: '#333333'\n    });\n  }\n\n  updateState(state: any): void {\n    this.isOn = state.state === 'on';\n    this.brightness = state.attributes?.brightness || (this.isOn ? 255 : 0);\n    \n    // Mettre \u00E0 jour les valeurs \u00E0 afficher\n    this.setDisplayValue('status', this.isOn ? 'ON' : 'OFF');\n    this.setDisplayValue('brightness', this.brightness);\n    \n    this.updateDisplay();\n  }\n\n  renderEntity(): HTMLElement {\n    const container = this.createStyledElement('div', 'enhanced-light-object');\n    \n    // Cr\u00E9er le titre\n    const title = this.createTitle(this.getEntity_id().split('.')[1].replace(/_/g, ' '));\n    \n    // Cr\u00E9er l'ic\u00F4ne\n    const icon = this.createIcon('fa-lightbulb', 'large');\n    \n    // Cr\u00E9er l'indicateur d'\u00E9tat\n    const statusIndicator = this.createStatusIndicator(this.isOn ? 'on' : 'off');\n    \n    // Cr\u00E9er le contr\u00F4leur\n    const controller = this.createController('button');\n    controller.addEventListener('click', (e) => {\n      e.stopPropagation();\n      this.toggle();\n    });\n    \n    // Cr\u00E9er le conteneur de valeurs\n    const valuesContainer = this.createValuesContainer();\n    \n    // Assembler les \u00E9l\u00E9ments\n    container.appendChild(title);\n    container.appendChild(icon);\n    container.appendChild(statusIndicator);\n    container.appendChild(controller);\n    container.appendChild(valuesContainer);\n    \n    // Ajouter un gestionnaire de clic pour basculer\n    container.addEventListener('click', () => this.toggle());\n    \n    return container;\n  }\n\n  updateDisplay(): void {\n    if (!this.element) return;\n    \n    // Mettre \u00E0 jour l'ic\u00F4ne en fonction de l'\u00E9tat\n    const icon = this.element.querySelector('.entity-icon') as HTMLElement;\n    if (icon) {\n      const bulbIcon = icon.querySelector('i') as HTMLElement;\n      if (bulbIcon) {\n        bulbIcon.className = `fas fa-lightbulb`;\n        bulbIcon.style.opacity = this.isOn ? '1' : '0.3';\n        bulbIcon.style.color = this.isOn ? this.colorScheme.primary : '#999999';\n      }\n    }\n    \n    // Mettre \u00E0 jour l'indicateur d'\u00E9tat\n    const statusIndicator = this.element.querySelector('.status-indicator') as HTMLElement;\n    if (statusIndicator) {\n      statusIndicator.innerHTML = this.createStatusIndicator(this.isOn ? 'on' : 'off').innerHTML;\n    }\n    \n    // Mettre \u00E0 jour le texte du bouton\n    const button = this.element.querySelector('.entity-button') as HTMLElement;\n    if (button) {\n      const buttonIcon = button.querySelector('i') as HTMLElement;\n      if (buttonIcon) {\n        buttonIcon.className = `fas ${this.isOn ? 'fa-power-off' : 'fa-power-off'}`;\n      }\n    }\n    \n    // Mettre \u00E0 jour les valeurs affich\u00E9es\n    const valuesContainer = this.element.querySelector('.values-container') as HTMLElement;\n    if (valuesContainer) {\n      valuesContainer.innerHTML = '';\n      const newValuesContainer = this.createValuesContainer();\n      valuesContainer.appendChild(newValuesContainer);\n    }\n  }\n\n  protected toggle(): void {\n    this.sendCommand(this.isOn ? 'turn_off' : 'turn_on');\n  }\n\n  handleAction(action: string): void {\n    if (action === 'toggle') {\n      this.toggle();\n    }\n  }\n}", "import { EnhancedLightObject } from './EnhancedLightObject';\nimport { DataService } from '../../services/DataService';\n\nexport class MinimalLightObject extends EnhancedLightObject {\n\n  constructor(\n    entity_id: string,\n    position: { x: number; y: number },\n    dimensions: { width: number; height: number } = { width: 50, height: 50 },\n    commandService?: DataService\n  ) {\n    super(entity_id, position, dimensions, commandService);\n    this.setVisualStyle('minimal');\n    this.setColorScheme({\n      primary: '#FFD700', // Or\n      secondary: '#FFC107', // Ambre\n      background: 'transparent', // Fond transparent pour le style minimal\n      text: '#333333'\n    });\n  }\n\n  renderEntity(): HTMLElement {\n    // Cr\u00E9er un conteneur minimal\n    const container = this.createStyledElement('div', 'minimal-light-object');\n    \n    // Cr\u00E9er uniquement l'ic\u00F4ne (sans titre, badges, ou boutons)\n    const icon = this.createIcon('fa-lightbulb', 'large');\n    \n    // Ajouter l'ic\u00F4ne au conteneur\n    container.appendChild(icon);\n    \n    // Ajouter un gestionnaire de clic pour basculer\n    container.addEventListener('click', () => this.toggle());\n    \n    return container;\n  }\n\n  updateDisplay(): void {\n    if (!this.element) return;\n    \n    // Mettre \u00E0 jour uniquement l'ic\u00F4ne en fonction de l'\u00E9tat\n    const icon = this.element.querySelector('.entity-icon') as HTMLElement;\n    if (icon) {\n      const bulbIcon = icon.querySelector('i') as HTMLElement;\n      if (bulbIcon) {\n        bulbIcon.className = `fas fa-lightbulb`;\n        bulbIcon.style.opacity = this.isOn ? '1' : '0.3';\n        bulbIcon.style.color = this.isOn ? this.colorScheme.primary : '#999999';\n      }\n    }\n  }\n\n  // M\u00E9thode pour obtenir l'\u00E9l\u00E9ment de l'ic\u00F4ne uniquement\n  getIconElement(): HTMLElement | null {\n    if (this.element) {\n      return this.element.querySelector('.entity-icon');\n    }\n    return null;\n  }\n\n  // M\u00E9thode pour obtenir l'\u00E9l\u00E9ment de l'ic\u00F4ne Font Awesome\n  getIcon(): HTMLElement | null {\n    const iconElement = this.getIconElement();\n    if (iconElement) {\n      return iconElement.querySelector('i');\n    }\n    return null;\n  }\n}", "import { BaseEntity } from './BaseEntity';\nimport { DataService } from '../../services/DataService';\n\nexport class EnhancedTemperatureSensor extends BaseEntity {\n  protected temperature: number = 0;\n  protected unit: string = '\u00B0C';\n\n  constructor(\n    entity_id: string,\n    position: { x: number; y: number },\n    dimensions: { width: number; height: number } = { width: 100, height: 100 },\n    commandService?: DataService\n  ) {\n    super(entity_id, position, dimensions, commandService);\n    this.setVisualStyle('gauge');\n    this.setColorScheme({\n      primary: '#F44336', // Rouge\n      secondary: '#FF5722', // Rouge profond\n      background: '#FFFFFF',\n      text: '#333333'\n    });\n  }\n\n  updateState(state: any): void {\n    this.temperature = parseFloat(state.state) || 0;\n    \n    // D\u00E9terminer la couleur en fonction de la temp\u00E9rature\n    let status: 'on' | 'off' | 'warning' | 'error' = 'on';\n    if (this.temperature < 5) status = 'warning'; // Trop froid\n    else if (this.temperature > 35) status = 'error'; // Trop chaud\n    else status = 'on'; // Normal\n    \n    // Mettre \u00E0 jour les valeurs \u00E0 afficher\n    this.setDisplayValue('temperature', this.temperature);\n    this.setDisplayValue('status', status);\n    \n    this.updateDisplay();\n  }\n\n  renderEntity(): HTMLElement {\n    const container = this.createStyledElement('div', 'enhanced-temperature-sensor');\n    \n    // Cr\u00E9er le titre\n    const title = this.createTitle(this.getEntity_id().split('.')[1].replace(/_/g, ' '));\n    \n    // Cr\u00E9er l'ic\u00F4ne\n    const icon = this.createIcon('fa-thermometer-half', 'large');\n    \n    // Cr\u00E9er l'indicateur d'\u00E9tat\n    const status = this.getTemperatureStatus();\n    const statusIndicator = this.createStatusIndicator(status);\n    \n    // Cr\u00E9er un affichage de temp\u00E9rature personnalis\u00E9\n    const tempDisplay = this.createStyledElement('div', 'temperature-display');\n    tempDisplay.innerHTML = `\n      <span class=\"temp-value\">${this.temperature}</span>\n      <span class=\"temp-unit\">${this.unit}</span>\n    `;\n    \n    // Cr\u00E9er un indicateur visuel de temp\u00E9rature (barre)\n    const tempBarContainer = this.createStyledElement('div', 'temperature-bar-container');\n    const tempBar = this.createStyledElement('div', 'temperature-bar');\n    tempBar.style.width = `${this.getTemperaturePercentage()}%`;\n    tempBarContainer.appendChild(tempBar);\n    \n    // Cr\u00E9er le conteneur de valeurs\n    const valuesContainer = this.createValuesContainer();\n    \n    // Assembler les \u00E9l\u00E9ments\n    container.appendChild(title);\n    container.appendChild(icon);\n    container.appendChild(statusIndicator);\n    container.appendChild(tempDisplay);\n    container.appendChild(tempBarContainer);\n    container.appendChild(valuesContainer);\n    \n    return container;\n  }\n\n  updateDisplay(): void {\n    if (!this.element) return;\n    \n    // Mettre \u00E0 jour l'affichage de temp\u00E9rature\n    const tempDisplay = this.element.querySelector('.temperature-display') as HTMLElement;\n    if (tempDisplay) {\n      tempDisplay.innerHTML = `\n        <span class=\"temp-value\">${this.temperature}</span>\n        <span class=\"temp-unit\">${this.unit}</span>\n      `;\n    }\n    \n    // Mettre \u00E0 jour la barre de temp\u00E9rature\n    const tempBar = this.element.querySelector('.temperature-bar') as HTMLElement;\n    if (tempBar) {\n      tempBar.style.width = `${this.getTemperaturePercentage()}%`;\n      \n      // Changer la couleur en fonction de la temp\u00E9rature\n      const status = this.getTemperatureStatus();\n      switch (status) {\n        case 'warning':\n          tempBar.style.backgroundColor = '#FFC107';\n          break;\n        case 'error':\n          tempBar.style.backgroundColor = '#F44336';\n          break;\n        default:\n          tempBar.style.backgroundColor = this.colorScheme.primary;\n      }\n    }\n    \n    // Mettre \u00E0 jour l'indicateur d'\u00E9tat\n    const statusIndicator = this.element.querySelector('.status-indicator') as HTMLElement;\n    if (statusIndicator) {\n      const status = this.getTemperatureStatus();\n      statusIndicator.innerHTML = this.createStatusIndicator(status).innerHTML;\n    }\n    \n    // Mettre \u00E0 jour les valeurs affich\u00E9es\n    const valuesContainer = this.element.querySelector('.values-container') as HTMLElement;\n    if (valuesContainer) {\n      valuesContainer.innerHTML = '';\n      const newValuesContainer = this.createValuesContainer();\n      valuesContainer.appendChild(newValuesContainer);\n    }\n  }\n\n  private getTemperatureStatus(): 'on' | 'off' | 'warning' | 'error' {\n    if (this.temperature < 5) return 'warning'; // Trop froid\n    if (this.temperature > 35) return 'error'; // Trop chaud\n    return 'on'; // Normal\n  }\n\n  private getTemperaturePercentage(): number {\n    // Plage de temp\u00E9rature de -10\u00B0C \u00E0 40\u00B0C\n    const minTemp = -10;\n    const maxTemp = 40;\n    \n    // Calculer le pourcentage\n    const percentage = ((this.temperature - minTemp) / (maxTemp - minTemp)) * 100;\n    \n    // Limiter \u00E0 0-100%\n    return Math.max(0, Math.min(100, percentage));\n  }\n\n  handleAction(action: string): void {\n    // Les capteurs de temp\u00E9rature ne g\u00E8rent g\u00E9n\u00E9ralement pas d'actions\n    console.log(`Action ${action} received by temperature sensor, but no action taken.`);\n  }\n}", "import { ContextWindow } from './ContextWindow';\nimport { EnhancedLightObject } from '../EnhancedLightObject';\nimport { MinimalLightObject } from '../MinimalLightObject';\n\nexport class LightWindow implements ContextWindow {\n  entity: EnhancedLightObject | MinimalLightObject;\n  element: HTMLElement;\n  isSimple: boolean = false;\n\n  constructor(entity: EnhancedLightObject | MinimalLightObject) {\n    this.entity = entity;\n    this.element = this.render();\n  }\n\n  render(): HTMLElement {\n    const window = document.createElement('div');\n    window.className = 'context-window light-window';\n\n    // Titre\n    const title = document.createElement('h3');\n    title.textContent = this.entity.getEntity_id().split('.')[1].replace(/_/g, ' ');\n    window.appendChild(title);\n\n    // Bouton d'\u00E9tat\n    const toggleBtn = document.createElement('button');\n    toggleBtn.className = 'toggle-button';\n    toggleBtn.textContent = this.entity.getDisplayValue('status') === 'ON' ? '\u00C9teindre' : 'Allumer';\n    toggleBtn.addEventListener('click', () => this.onAction('toggle'));\n    window.appendChild(toggleBtn);\n\n    // Contr\u00F4le de luminosit\u00E9 (si support\u00E9)\n    if (this.entity instanceof EnhancedLightObject) {\n      const brightnessContainer = document.createElement('div');\n      brightnessContainer.className = 'brightness-control';\n\n      const brightnessLabel = document.createElement('label');\n      brightnessLabel.textContent = 'Luminosit\u00E9:';\n      brightnessContainer.appendChild(brightnessLabel);\n\n      const brightnessInput = document.createElement('input');\n      brightnessInput.type = 'range';\n      brightnessInput.min = '0';\n      brightnessInput.max = '255';\n      brightnessInput.value = this.entity.getDisplayValue('brightness')?.toString() || '0';\n      brightnessInput.addEventListener('input', (e) => {\n        this.onAction('set_brightness', (e.target as HTMLInputElement).value);\n      });\n      brightnessContainer.appendChild(brightnessInput);\n\n      const brightnessValue = document.createElement('span');\n      brightnessValue.className = 'brightness-value';\n      brightnessValue.textContent = brightnessInput.value;\n      brightnessContainer.appendChild(brightnessValue);\n\n      // Mettre \u00E0 jour l'affichage de la valeur\n      brightnessInput.addEventListener('input', (e) => {\n        brightnessValue.textContent = (e.target as HTMLInputElement).value;\n      });\n\n      window.appendChild(brightnessContainer);\n    }\n\n    // Bouton de fermeture\n    const closeBtn = document.createElement('button');\n    closeBtn.className = 'close-button';\n    closeBtn.textContent = 'Fermer';\n    closeBtn.addEventListener('click', () => this.close());\n    window.appendChild(closeBtn);\n\n    return window;\n  }\n\n  onAction(action: string, value?: any): void {\n    switch (action) {\n      case 'toggle':\n        this.entity.handleAction('toggle');\n        break;\n      case 'set_brightness':\n        this.entity.updateState({\n          state: 'on',\n          attributes: { brightness: parseInt(value) }\n        });\n        break;\n    }\n\n    // Mettre \u00E0 jour l'affichage\n    this.updateDisplay();\n  }\n\n  updateDisplay(): void {\n    // Mettre \u00E0 jour le bouton d'\u00E9tat\n    const toggleBtn = this.element.querySelector('.toggle-button') as HTMLButtonElement;\n    if (toggleBtn) {\n      toggleBtn.textContent = this.entity.getDisplayValue('status') === 'ON' ? '\u00C9teindre' : 'Allumer';\n    }\n\n    // Mettre \u00E0 jour la luminosit\u00E9 si applicable\n    if (this.entity instanceof EnhancedLightObject) {\n      const brightnessInput = this.element.querySelector('input[type=\"range\"]') as HTMLInputElement;\n      const brightnessValue = this.element.querySelector('.brightness-value') as HTMLSpanElement;\n      if (brightnessInput && brightnessValue) {\n        const brightness = this.entity.getDisplayValue('brightness')?.toString() || '0';\n        brightnessInput.value = brightness;\n        brightnessValue.textContent = brightness;\n      }\n    }\n  }\n\n  close(): void {\n    // Rien \u00E0 faire ici, la fermeture est g\u00E9r\u00E9e par le gestionnaire\n  }\n}", "import { ContextWindow } from './ContextWindow';\nimport { MinimalLightObject } from '../MinimalLightObject';\n\nexport class SwitchWindow implements ContextWindow {\n  entity: MinimalLightObject;\n  element: HTMLElement;\n  isSimple: boolean = true; // Fermeture automatique apr\u00E8s action\n\n  constructor(entity: MinimalLightObject) {\n    this.entity = entity;\n    this.element = this.render();\n  }\n\n  render(): HTMLElement {\n    const window = document.createElement('div');\n    window.className = 'context-window switch-window';\n\n    // Titre\n    const title = document.createElement('h3');\n    title.textContent = this.entity.getEntity_id().split('.')[1].replace(/_/g, ' ');\n    window.appendChild(title);\n\n    // Bouton d'\u00E9tat\n    const toggleBtn = document.createElement('button');\n    toggleBtn.className = 'toggle-button';\n    toggleBtn.textContent = this.entity.getDisplayValue('status') === 'ON' ? '\u00C9teindre' : 'Allumer';\n    toggleBtn.addEventListener('click', () => {\n      this.onAction('toggle');\n      // Fermeture automatique apr\u00E8s 500ms\n      setTimeout(() => this.close(), 500);\n    });\n    window.appendChild(toggleBtn);\n\n    return window;\n  }\n\n  onAction(action: string): void {\n    this.entity.handleAction(action);\n  }\n\n  close(): void {\n    // Cette fen\u00EAtre se ferme automatiquement\n  }\n}", "import { ContextWindow } from './ContextWindow';\nimport { BaseEntity } from '../BaseEntity';\n\nexport class ThermostatWindow implements ContextWindow {\n  entity: BaseEntity;\n  element: HTMLElement;\n  isSimple: boolean = false;\n\n  constructor(entity: BaseEntity) {\n    this.entity = entity;\n    this.element = this.render();\n  }\n\n  render(): HTMLElement {\n    const window = document.createElement('div');\n    window.className = 'context-window thermostat-window';\n\n    // Titre\n    const title = document.createElement('h3');\n    title.textContent = this.entity.getEntity_id().split('.')[1].replace(/_/g, ' ');\n    window.appendChild(title);\n\n    // Affichage de la temp\u00E9rature actuelle\n    const currentTemp = document.createElement('div');\n    currentTemp.className = 'current-temperature';\n    currentTemp.innerHTML = `\n      <span>Temp\u00E9rature actuelle:</span>\n      <strong>${this.entity.getDisplayValue('temperature') || 'N/A'}\u00B0C</strong>\n    `;\n    window.appendChild(currentTemp);\n\n    // Contr\u00F4le de temp\u00E9rature\n    const tempControl = document.createElement('div');\n    tempControl.className = 'temperature-control';\n\n    const tempLabel = document.createElement('label');\n    tempLabel.textContent = 'Temp\u00E9rature cible:';\n    tempControl.appendChild(tempLabel);\n\n    const tempInput = document.createElement('input');\n    tempInput.type = 'number';\n    tempInput.min = '5';\n    tempInput.max = '35';\n    tempInput.value = this.entity.getDisplayValue('target_temp')?.toString() || '20';\n    tempInput.addEventListener('change', (e) => {\n      this.onAction('set_temperature', (e.target as HTMLInputElement).value);\n    });\n    tempControl.appendChild(tempInput);\n\n    const tempUnit = document.createElement('span');\n    tempUnit.textContent = '\u00B0C';\n    tempControl.appendChild(tempUnit);\n\n    window.appendChild(tempControl);\n\n    // Boutons de contr\u00F4le rapide\n    const quickControls = document.createElement('div');\n    quickControls.className = 'quick-controls';\n\n    const decreaseBtn = document.createElement('button');\n    decreaseBtn.textContent = '-1\u00B0C';\n    decreaseBtn.addEventListener('click', () => {\n      const current = parseInt(this.entity.getDisplayValue('target_temp')?.toString() || '20');\n      this.onAction('set_temperature', (current - 1).toString());\n    });\n    quickControls.appendChild(decreaseBtn);\n\n    const increaseBtn = document.createElement('button');\n    increaseBtn.textContent = '+1\u00B0C';\n    increaseBtn.addEventListener('click', () => {\n      const current = parseInt(this.entity.getDisplayValue('target_temp')?.toString() || '20');\n      this.onAction('set_temperature', (current + 1).toString());\n    });\n    quickControls.appendChild(increaseBtn);\n\n    window.appendChild(quickControls);\n\n    // Bouton de fermeture\n    const closeBtn = document.createElement('button');\n    closeBtn.className = 'close-button';\n    closeBtn.textContent = 'Fermer';\n    closeBtn.addEventListener('click', () => this.close());\n    window.appendChild(closeBtn);\n\n    return window;\n  }\n\n  onAction(action: string, value?: any): void {\n    switch (action) {\n      case 'set_temperature':\n        this.entity.sendCommand('set_temperature', { temperature: parseFloat(value) });\n        break;\n    }\n    \n    this.updateDisplay();\n  }\n\n  updateDisplay(): void {\n    // Mettre \u00E0 jour la temp\u00E9rature actuelle\n    const currentTemp = this.element.querySelector('.current-temperature strong');\n    if (currentTemp) {\n      currentTemp.textContent = `${this.entity.getDisplayValue('temperature') || 'N/A'}\u00B0C`;\n    }\n    \n    // Mettre \u00E0 jour le contr\u00F4le de temp\u00E9rature\n    const tempInput = this.element.querySelector('input[type=\"number\"]') as HTMLInputElement;\n    if (tempInput) {\n      tempInput.value = this.entity.getDisplayValue('target_temp')?.toString() || '20';\n    }\n  }\n\n  close(): void {\n    // Rien \u00E0 faire ici\n  }\n}", "import { ContextWindow } from './ContextWindow';\nimport { BaseEntity } from '../BaseEntity';\n\nexport class GenericWindow implements ContextWindow {\n  entity: BaseEntity;\n  element: HTMLElement;\n  isSimple: boolean = false;\n\n  constructor(entity: BaseEntity) {\n    this.entity = entity;\n    this.element = this.render();\n  }\n\n  render(): HTMLElement {\n    const window = document.createElement('div');\n    window.className = 'context-window generic-window';\n\n    // Titre\n    const title = document.createElement('h3');\n    title.textContent = this.entity.getEntity_id().split('.')[1].replace(/_/g, ' ');\n    window.appendChild(title);\n\n    // Affichage des valeurs\n    const valuesContainer = document.createElement('div');\n    valuesContainer.className = 'entity-values';\n\n    // Parcourir toutes les valeurs affichables\n    const displayValues = this.entity['displayValues'] as Map<string, any>;\n    if (displayValues) {\n      displayValues.forEach((value, key) => {\n        const valueRow = document.createElement('div');\n        valueRow.className = 'value-row';\n        \n        const valueLabel = document.createElement('span');\n        valueLabel.className = 'value-label';\n        valueLabel.textContent = `${key}:`;\n        valueRow.appendChild(valueLabel);\n        \n        const valueContent = document.createElement('span');\n        valueContent.className = 'value-content';\n        valueContent.textContent = value.toString();\n        valueRow.appendChild(valueContent);\n        \n        valuesContainer.appendChild(valueRow);\n      });\n    }\n\n    window.appendChild(valuesContainer);\n\n    // Bouton de fermeture\n    const closeBtn = document.createElement('button');\n    closeBtn.className = 'close-button';\n    closeBtn.textContent = 'Fermer';\n    closeBtn.addEventListener('click', () => this.close());\n    window.appendChild(closeBtn);\n\n    return window;\n  }\n\n  onAction(action: string, value?: any): void {\n    // Pas d'actions sp\u00E9cifiques pour les entit\u00E9s g\u00E9n\u00E9riques\n    console.log(`Action ${action} re\u00E7ue pour l'entit\u00E9 g\u00E9n\u00E9rique`);\n  }\n\n  updateDisplay(): void {\n    // Mettre \u00E0 jour les valeurs affich\u00E9es\n    const displayValues = this.entity['displayValues'] as Map<string, any>;\n    if (!displayValues) return;\n    \n    const valueRows = this.element.querySelectorAll('.value-row');\n    valueRows.forEach(row => row.remove());\n    \n    const valuesContainer = this.element.querySelector('.entity-values');\n    if (valuesContainer) {\n      displayValues.forEach((value, key) => {\n        const valueRow = document.createElement('div');\n        valueRow.className = 'value-row';\n        \n        const valueLabel = document.createElement('span');\n        valueLabel.className = 'value-label';\n        valueLabel.textContent = `${key}:`;\n        valueRow.appendChild(valueLabel);\n        \n        const valueContent = document.createElement('span');\n        valueContent.className = 'value-content';\n        valueContent.textContent = value.toString();\n        valueRow.appendChild(valueContent);\n        \n        valuesContainer.appendChild(valueRow);\n      });\n    }\n  }\n\n  close(): void {\n    // Rien \u00E0 faire ici\n  }\n}", "import { BaseEntity } from './BaseEntity';\nimport { EnhancedLightObject } from './EnhancedLightObject';\nimport { MinimalLightObject } from './MinimalLightObject';\nimport { EnhancedTemperatureSensor } from './EnhancedTemperatureSensor';\nimport { DataService } from '../../services/DataService';\nimport { ContextWindow } from './windows/ContextWindow';\nimport { LightWindow } from './windows/LightWindow';\nimport { SwitchWindow } from './windows/SwitchWindow';\nimport { ThermostatWindow } from './windows/ThermostatWindow';\nimport { GenericWindow } from './windows/GenericWindow';\n\nexport class UnifiedObjectFactory {\n  // Registre des cr\u00E9ateurs d'entit\u00E9s\n  private static entityCreators: Map<string, (\n    entity_id: string,\n    position: { x: number; y: number },\n    state?: any,\n    commandService?: DataService\n  ) => BaseEntity> = new Map();\n\n  // Registre des cr\u00E9ateurs de fen\u00EAtres\n  private static windowCreators: Map<string, (entity: BaseEntity) => ContextWindow> = new Map();\n\n  static {\n    // Initialisation des types par d\u00E9faut\n    this.registerDefaultTypes();\n  }\n\n  private static registerDefaultTypes(): void {\n    // Lumi\u00E8re standard\n    this.registerEntityType('light', (entity_id, position, state, commandService) => {\n      const light = new EnhancedLightObject(entity_id, position, { width: 80, height: 80 }, commandService);\n      if (state) light.updateState(state);\n      return light;\n    });\n\n    this.registerWindowType('light', (entity) => new LightWindow(entity as EnhancedLightObject));\n\n    // Lumi\u00E8re minimaliste\n    this.registerEntityType('minimal_light', (entity_id, position, state, commandService) => {\n      const light = new MinimalLightObject(entity_id, position, { width: 32, height: 32 }, commandService);\n      if (state) light.updateState(state);\n      return light;\n    });\n\n    this.registerWindowType('minimal_light', (entity) => new LightWindow(entity as MinimalLightObject));\n\n    // Capteur de temp\u00E9rature\n    this.registerEntityType('temperature_sensor', (entity_id, position, state, commandService) => {\n      const sensor = new EnhancedTemperatureSensor(entity_id, position, { width: 100, height: 100 }, commandService);\n      if (state) sensor.updateState(state);\n      return sensor;\n    });\n\n    this.registerWindowType('temperature_sensor', (entity) => new GenericWindow(entity));\n\n    // Interrupteur simple\n    this.registerEntityType('switch', (entity_id, position, state, commandService) => {\n      const light = new MinimalLightObject(entity_id, position, { width: 32, height: 32 }, commandService);\n      if (state) light.updateState(state);\n      return light;\n    });\n\n    this.registerWindowType('switch', (entity) => new SwitchWindow(entity as MinimalLightObject));\n\n    // Thermostat\n    this.registerEntityType('thermostat', (entity_id, position, state, commandService) => {\n      // Note: ThermostatObject sera cr\u00E9\u00E9 plus tard\n      const sensor = new EnhancedTemperatureSensor(entity_id, position, { width: 100, height: 100 }, commandService);\n      if (state) sensor.updateState(state);\n      return sensor;\n    });\n\n    this.registerWindowType('thermostat', (entity) => new ThermostatWindow(entity));\n  }\n\n  /**\n   * M\u00E9thode principale pour cr\u00E9er un objet et sa fen\u00EAtre associ\u00E9e\n   */\n  static createObjectWithWindow(\n    entity_id: string,\n    position: { x: number; y: number },\n    state?: any,\n    commandService?: DataService\n  ): { entity: BaseEntity; window: ContextWindow } {\n    const entityType = this.getEntityType(entity_id);\n    \n    // Cr\u00E9er l'entit\u00E9\n    const entityCreator = this.entityCreators.get(entityType) || this.entityCreators.get('light');\n    const entity = entityCreator(entity_id, position, state, commandService);\n    \n    // Cr\u00E9er la fen\u00EAtre associ\u00E9e\n    const windowCreator = this.windowCreators.get(entityType) || this.windowCreators.get('light');\n    const window = windowCreator(entity);\n    \n    // Lier la fen\u00EAtre \u00E0 l'entit\u00E9\n    entity.setContextWindow(window);\n    \n    return { entity, window };\n  }\n\n  /**\n   * Enregistrer un nouveau type d'entit\u00E9\n   */\n  static registerEntityType(\n    type: string,\n    creator: (\n      entity_id: string,\n      position: { x: number; y: number },\n      state?: any,\n      commandService?: DataService\n    ) => BaseEntity\n  ): void {\n    this.entityCreators.set(type, creator);\n  }\n\n  /**\n   * Enregistrer un nouveau type de fen\u00EAtre\n   */\n  static registerWindowType(type: string, creator: (entity: BaseEntity) => ContextWindow): void {\n    this.windowCreators.set(type, creator);\n  }\n\n  /**\n   * Extraire le type \u00E0 partir de l'entity_id\n   */\n  private static getEntityType(entity_id: string): string {\n    const parts = entity_id.split('.');\n    if (parts.length < 2) return 'light';\n    \n    const domain = parts[0];\n    const deviceType = parts[1].split('_')[0];\n    \n    // Logique de d\u00E9termination du type\n    if (domain === 'light') {\n      if (entity_id.includes('minimal')) return 'minimal_light';\n      return 'light';\n    }\n    \n    if (domain === 'switch') return 'switch';\n    \n    if (domain === 'sensor' && deviceType === 'temperature') return 'temperature_sensor';\n    \n    if (domain === 'climate') return 'thermostat';\n    \n    return 'light'; // Type par d\u00E9faut\n  }\n}", "import { ContextWindow } from './ContextWindow';\nimport { BaseEntity } from '../BaseEntity';\n\nexport class ContextWindowManager {\n  private static instance: ContextWindowManager;\n  private currentWindow: ContextWindow | null = null;\n  private container: HTMLElement;\n  private overlay: HTMLElement;\n\n  private constructor() {\n    // Cr\u00E9er le conteneur pour les fen\u00EAtres\n    this.container = document.createElement('div');\n    this.container.id = 'context-windows-container';\n    this.container.style.position = 'fixed';\n    this.container.style.top = '0';\n    this.container.style.left = '0';\n    this.container.style.width = '100%';\n    this.container.style.height = '100%';\n    this.container.style.pointerEvents = 'none';\n    this.container.style.zIndex = '1000';\n\n    // Cr\u00E9er l'overlay\n    this.overlay = document.createElement('div');\n    this.overlay.id = 'context-windows-overlay';\n    this.overlay.style.position = 'fixed';\n    this.overlay.style.top = '0';\n    this.overlay.style.left = '0';\n    this.overlay.style.width = '100%';\n    this.overlay.style.height = '100%';\n    this.overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.1)';\n    this.overlay.style.display = 'none';\n    this.overlay.style.zIndex = '999';\n\n    // Ajouter au body si possible\n    if (typeof document !== 'undefined') {\n      document.body.appendChild(this.container);\n      document.body.appendChild(this.overlay);\n    }\n  }\n\n  public static getInstance(): ContextWindowManager {\n    if (!ContextWindowManager.instance) {\n      ContextWindowManager.instance = new ContextWindowManager();\n    }\n    return ContextWindowManager.instance;\n  }\n\n  showWindow(entity: BaseEntity, window: ContextWindow): void {\n    // Fermer la fen\u00EAtre actuelle si elle existe\n    if (this.currentWindow) {\n      this.hideWindow();\n    }\n\n    // Stocker la fen\u00EAtre actuelle\n    this.currentWindow = window;\n\n    // Positionner la fen\u00EAtre pr\u00E8s de l'entit\u00E9\n    this.positionWindowNearEntity(entity, window.element);\n\n    // Ajouter la fen\u00EAtre au conteneur\n    this.container.appendChild(window.element);\n\n    // Afficher l'overlay\n    this.overlay.style.display = 'block';\n\n    // Activer les \u00E9v\u00E9nements de pointer sur le conteneur\n    this.container.style.pointerEvents = 'auto';\n\n    // Fermer la fen\u00EAtre quand on clique sur l'overlay\n    this.overlay.onclick = () => this.hideWindow();\n\n    // Fermer la fen\u00EAtre quand on appuie sur \u00C9chap\n    document.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  private handleKeyDown = (e: KeyboardEvent): void => {\n    if (e.key === 'Escape') {\n      this.hideWindow();\n    }\n  }\n\n  hideWindow(): void {\n    if (this.currentWindow) {\n      // Fermer la fen\u00EAtre\n      this.currentWindow.close();\n      this.container.removeChild(this.currentWindow.element);\n      this.currentWindow = null;\n    }\n\n    // Masquer l'overlay\n    this.overlay.style.display = 'none';\n\n    // D\u00E9sactiver les \u00E9v\u00E9nements de pointer\n    this.container.style.pointerEvents = 'none';\n\n    // Retirer l'\u00E9couteur de touche\n    document.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  private positionWindowNearEntity(entity: BaseEntity, windowElement: HTMLElement): void {\n    // Obtenir la position de l'entit\u00E9\n    const entityElement = entity.getElement();\n    \n    if (entityElement) {\n      const entityRect = entityElement.getBoundingClientRect();\n      \n      // Positionner la fen\u00EAtre \u00E0 droite de l'entit\u00E9\n      windowElement.style.position = 'absolute';\n      windowElement.style.left = `${entityRect.right + 10}px`;\n      windowElement.style.top = `${entityRect.top}px`;\n      windowElement.style.pointerEvents = 'auto';\n    } else {\n      // Position par d\u00E9faut si l'\u00E9l\u00E9ment n'est pas trouv\u00E9\n      windowElement.style.position = 'absolute';\n      windowElement.style.left = '50%';\n      windowElement.style.top = '50%';\n      windowElement.style.transform = 'translate(-50%, -50%)';\n      windowElement.style.pointerEvents = 'auto';\n    }\n  }\n\n  // M\u00E9thode pour mettre \u00E0 jour la fen\u00EAtre actuelle\n  updateCurrentWindow(): void {\n    if (this.currentWindow && this.currentWindow.updateDisplay) {\n      this.currentWindow.updateDisplay();\n    }\n  }\n\n  // V\u00E9rifier si une fen\u00EAtre est ouverte\n  hasOpenWindow(): boolean {\n    return this.currentWindow !== null;\n  }\n\n  // Obtenir la fen\u00EAtre actuelle\n  getCurrentWindow(): ContextWindow | null {\n    return this.currentWindow;\n  }\n}", "// Fichier d'entr\u00E9e pour la d\u00E9monstration\n// Ce fichier importe tous les modules n\u00E9cessaires pour les tests visuels\n\n// Importer les classes de base\nimport { BaseEntity } from './models/objects/BaseEntity';\nimport { UnifiedObjectFactory } from './models/objects/UnifiedObjectFactory';\nimport { EnhancedLightObject } from './models/objects/EnhancedLightObject';\nimport { MinimalLightObject } from './models/objects/MinimalLightObject';\nimport { EnhancedTemperatureSensor } from './models/objects/EnhancedTemperatureSensor';\nimport { ContextWindowManager } from './models/objects/windows/ContextWindowManager';\nimport { LightWindow } from './models/objects/windows/LightWindow';\nimport { SwitchWindow } from './models/objects/windows/SwitchWindow';\nimport { ThermostatWindow } from './models/objects/windows/ThermostatWindow';\nimport { GenericWindow } from './models/objects/windows/GenericWindow';\n\n// Exporter tout pour que ce soit disponible globalement\nif (typeof window !== 'undefined') {\n  // V\u00E9rifier si les classes ne sont pas d\u00E9j\u00E0 d\u00E9finies\n  if (!window.UnifiedObjectFactory) {\n    window.UnifiedObjectFactory = UnifiedObjectFactory;\n  }\n  if (!window.BaseEntity) {\n    window.BaseEntity = BaseEntity;\n  }\n  if (!window.EnhancedLightObject) {\n    window.EnhancedLightObject = EnhancedLightObject;\n  }\n  if (!window.MinimalLightObject) {\n    window.MinimalLightObject = MinimalLightObject;\n  }\n  if (!window.EnhancedTemperatureSensor) {\n    window.EnhancedTemperatureSensor = EnhancedTemperatureSensor;\n  }\n  if (!window.ContextWindowManager2) {\n    window.ContextWindowManager2 = ContextWindowManager;\n  }\n  if (!window.LightWindow) {\n    window.LightWindow = LightWindow;\n  }\n  if (!window.SwitchWindow) {\n    window.SwitchWindow = SwitchWindow;\n  }\n  if (!window.ThermostatWindow) {\n    window.ThermostatWindow = ThermostatWindow;\n  }\n  if (!window.GenericWindow) {\n    window.GenericWindow = GenericWindow;\n  }\n}\n\nconsole.log('Modules de d\u00E9monstration charg\u00E9s avec succ\u00E8s !');"],
  "mappings": "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",
  "names": ["window", "window", "window", "window", "_a", "window", "window", "ContextWindowManager", "window", "ContextWindowManager"]
}
